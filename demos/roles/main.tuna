

role user {
    name: string
}

const users = {}

pub func create_user(name: string) {
    if users[name] == none {        
        users[name] = 'some initial state'
        return user {
            name: name
        }
    }
    return 'user already exists'
}

user func delete_user() {
    users[caller.name].deleteField()
}